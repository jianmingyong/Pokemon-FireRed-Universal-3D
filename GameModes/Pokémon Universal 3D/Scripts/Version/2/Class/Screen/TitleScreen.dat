version=2
##############################
# Sub Screen.TitleScreen
##############################

@Storage.set(str,StackTrace.Set,Version\2\Class\Screen\TitleScreen.dat)
@Script.start(Version\2\Class\StackTrace\Set)

:if:<Storage.get(bool,Security.FileValidation.Checks)>=true
	@Storage.set(bool,Security.FileValidation.ScriptExist,true)
	:end
:endif

:if:<not><Level.levelfile>=Screen\MainMenu.dat
	@Screen.fadeout
	@Camera.set(0,0,0,0,0)
	@Player.warp(Screen\MainMenu.dat,0,0,0,0)
	@Level.update
:endif

:while:<Entity.opacity(0)><100
	@Entity.setopacity(0,<Entity.opacity(0)>+10)
	@Level.wait(0)
	@Level.update
:endwhile

@Music.play(title)
@Camera.deactivatethirdperson(true)
@Camera.fix
@Screen.fadein

:if:<Register.value(Global.Token)>=English
	@Text.show(Move: W or S or arrow keys.~Select: Space bar or enter.)
	@Options.show(New Game,Load Game,Options)
		:when:New Game
			@Script.start(Version\2\Class\Screen\NewGameScreen)
		:when:Load Game
			@Script.start(Version\2\Class\Screen\LoadGameScreen)
		:when:Options
			@Script.start(Version\2\Class\Screen\OptionScreen)
	:endwhen
:else
	@Text.show(<Storage.get(str,Localization.Version\2\Class\Screen\TitleScreen.1)>)
	@Options.show(<Storage.get(str,Localization.Version\2\Class\Screen\TitleScreen.2)>,<Storage.get(str,Localization.Version\2\Class\Screen\TitleScreen.3)>,<Storage.get(str,Localization.Version\2\Class\Screen\TitleScreen.4)>)
		:when:<Storage.get(str,Localization.Version\2\Class\Screen\TitleScreen.2)>
			@Script.start(Version\2\Class\Screen\NewGameScreen)
		:when:<Storage.get(str,Localization.Version\2\Class\Screen\TitleScreen.3)>
			@Script.start(Version\2\Class\Screen\LoadGameScreen)
		:when:<Storage.get(str,Localization.Version\2\Class\Screen\TitleScreen.4)>
			@Script.start(Version\2\Class\Screen\OptionScreen)
	:endwhen	
:endif

:end