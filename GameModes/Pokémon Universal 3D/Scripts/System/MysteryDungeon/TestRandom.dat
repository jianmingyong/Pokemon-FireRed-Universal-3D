version=2
# Define Room Size.
@Register.change(System\Intro\15\MysteryDungeon.MinRoomSizeX,5)
@Register.change(System\Intro\15\MysteryDungeon.MaxRoomSizeX,10)
@Register.change(System\Intro\15\MysteryDungeon.MinRoomSizeZ,5)
@Register.change(System\Intro\15\MysteryDungeon.MaxRoomSizeZ,10)
# Dig a Random Location.
@Register.change(System\Intro\15\MysteryDungeon.FinalRoomSizeX,<System.random(<Register.value(System\Intro\15\MysteryDungeon.MinRoomSizeX)>,<Register.value(System\Intro\15\MysteryDungeon.MaxRoomSizeX)>)>)
@Register.change(System\Intro\15\MysteryDungeon.FinalRoomSizeZ,<System.random(<Register.value(System\Intro\15\MysteryDungeon.MinRoomSizeZ)>,<Register.value(System\Intro\15\MysteryDungeon.MaxRoomSizeZ)>)>)
@Register.change(System\Intro\15\MysteryDungeon.CurrentRoomLocationX,<System.random(1,49-<Register.value(System\Intro\15\MysteryDungeon.MaxRoomSizeX)>)>)
@Register.change(System\Intro\15\MysteryDungeon.CurrentRoomLocationZ,<System.random(1,49-<Register.value(System\Intro\15\MysteryDungeon.MaxRoomSizeZ)>)>)
@Register.change(System\Intro\15\MysteryDungeon.CurrentDigRoomX,0)
@Register.change(System\Intro\15\MysteryDungeon.CurrentDigRoomZ,0)
# Init Removal.
:while:<Register.registered(System\Intro\15\MysteryDungeon.CurrentRoomLocationID)>=true
	@Register.change(System\Intro\15\MysteryDungeon.CurrentRoomLocationID,<Math.int(<Register.value(System\Intro\15\MysteryDungeon.CurrentRoomLocationX)>*1000000)>+<Math.int(<Register.value(System\Intro\15\MysteryDungeon.CurrentDigRoomX)>*1000000)>+<Register.value(System\Intro\15\MysteryDungeon.CurrentRoomLocationZ)>+<Register.value(System\Intro\15\MysteryDungeon.CurrentDigRoomZ)>)
	@Entity.remove(<Register.value(System\Intro\15\MysteryDungeon.CurrentRoomLocationID)>)
	@Level.update
	:if:<not><Register.value(System\Intro\15\MysteryDungeon.CurrentDigRoomX)>=<Register.value(System\Intro\15\MysteryDungeon.FinalRoomSizeX)> <and> <not><Register.value(System\Intro\15\MysteryDungeon.CurrentDigRoomZ)>=<Register.value(System\Intro\15\MysteryDungeon.FinalRoomSizeZ)>
		@Register.change(System\Intro\15\MysteryDungeon.CurrentDigRoomX,<Register.value(System\Intro\15\MysteryDungeon.CurrentDigRoomX)>+1)
	:endif
	:if:<Register.value(System\Intro\15\MysteryDungeon.CurrentDigRoomX)>=<Register.value(System\Intro\15\MysteryDungeon.FinalRoomSizeX)>
		@Register.change(System\Intro\15\MysteryDungeon.CurrentDigRoomX,0)
		@Register.change(System\Intro\15\MysteryDungeon.CurrentDigRoomZ,<Register.value(System\Intro\15\MysteryDungeon.CurrentDigRoomZ)>+1)
	:endif
	:if:<Register.value(System\Intro\15\MysteryDungeon.CurrentDigRoomZ)>=<Register.value(System\Intro\15\MysteryDungeon.FinalRoomSizeZ)>
		:exitwhile
	:endif
:endwhile
:end